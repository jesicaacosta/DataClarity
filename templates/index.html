<!DOCTYPE html>
<html lang="es">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Inicio - Plataforma de Análisis de Datos</title>

	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
	<link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}" />

	<!-- Fuentes -->
	<link rel="preconnect" href="https://fonts.googleapis.com" />
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
	<link href="https://fonts.googleapis.com/css2?family=Raleway:wght@100..900&family=Roboto:wght@100..900&display=swap"
		rel="stylesheet" />
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Parkinsans:wght@300..800&display=swap" rel="stylesheet">
	<link
		href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Parkinsans:wght@300..800&display=swap"
		rel="stylesheet">


	<!-- Font Awesome para iconos -->
	<script src="https://kit.fontawesome.com/7d4a6c3747.js" crossorigin="anonymous"></script>

	<!-- Enlace al archivo CSS de Font Awesome -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

	<!-- Bootstrap-->

	<link href="css/bootstrap.min.css" rel="stylesheet">



</head>

<nav class="navbar navbar-expand-lg navbar-light bg-light  fixed-top">
	<a class="navbar-brand" href="http://127.0.0.1:5000/"><img src="/static/images/DATACLARITY.png" width="120px"
			alt="" /></a>
	<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav"
		aria-expanded="false" aria-label="Toggle navigation">
		<span class="navbar-toggler-icon"></span>
	</button>
	<div class="collapse navbar-collapse" id="navbarNav">
		<ul class="navbar-nav">
			<li class="nav-item active">
				<a class="nav-link" href="http://127.0.0.1:5000/">Inicio<span class="sr-only">(current)</span></a>
			</li>
			<li class="nav-item">
				<a class="nav-link " href="./faqs.html">Preguntas Frecuentes</a>
			</li>
		</ul>
	</div>
</nav>

<body>

	<!-- Carousel -->
	{% if data %}
	<div class="carousel" id="carouselExampleIndicators" style="display: none;">
	</div>
	<!-- Si hay datos cargados no se ve el carousel-->
	{% else %}
	<div id="carouselExampleIndicators" class="carousel slide mt-1" data-ride="carousel">
		<!-- mt es el margin top-->
		<ol class="carousel-indicators">
			<li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
			<li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
			<li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
		</ol>
		<div class="carousel-inner">
			<div class="carousel-item active">
				<img src="{{ url_for('static', filename='images/a.jpg') }}" class="d-block w-100" alt="..." />
				<div class="carousel-caption d-none d-md-block">
					<h5>Sube tus datos</h5>
					<p>Comienza a analizar en segundos.</p>
				</div>
			</div>
			<div class="carousel-item">
				<img src="{{ url_for('static', filename='images/b.jpg') }}" class="d-block w-100" alt="..." />
				<div class="carousel-caption d-none d-md-block">
					<h5>Visualizaciones Interactivas</h5>
					<p>Obtén gráficos y estadísticas claras.</p>
				</div>
			</div>
			<div class="carousel-item">
				<img src="{{ url_for('static', filename='images/c.jpg') }}" class="d-block w-100" alt="..." />
				<div class="carousel-caption d-none d-md-block">
					<h5>Descarga Resultados</h5>
					<p>Exporta tus gráficos fácilmente.</p>
				</div>
			</div>
		</div>

		<a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
			<span class="carousel-control-prev-icon" aria-hidden="true"></span>
			<span class="sr-only">Anterior</span>
		</a>
		<a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
			<span class="carousel-control-next-icon" aria-hidden="true"></span>
			<span class="sr-only">Siguiente</span>
		</a>
	</div>
	{% endif %}


	<!-- Informacion sobre importancia de visualizacion de graficos -->
	<section class="container-fluid mt-5">
		<div class="row">
			<div class="col-md-12 text-center">
				<h2>¡Tus datos, tu negocio ! </h2>
				{% if data%}
				<div class="features" style="display:none">
				</div>
				{% else %}
				<!-- Quienes somos -->
				<section class="features py-5">
					<div class="container text-center">
						<div class="row">
							<div class="col-md-4">
								<i class="fas fa-chart-line fa-3x text-primary mb-3"></i>
								<h5>Visualizaciones Interactivas</h5>
							</div>
							<div class="col-md-4">
								<i class="fas fa-file-upload fa-3x text-success mb-3"></i>
								<h5>Subida Fácil de Archivos</h5>
							</div>
							<div class="col-md-4">
								<i class="fas fa-cloud-upload-alt fa-3x text-warning mb-3"></i>
								<h5>Descarga gratuitamente tus gráficos</h5>
							</div>
						</div>
					</div>
				</section>
				<p>
					Subiendo tus archivos CSV o Excel con datos de ventas, clima y más, podrás generar <b>estadísticas
						personalizadas</b> y <b> visualizaciones increíbles </b> .
					Descubrí patrones ocultos, tomá mejores decisiones y alcanza tus metas! </p>
			</div>
		</div>
	</section>

	<!-- Encabezado principal -->
	<div class="text-center mb-4 box-subida">
		<h2> Subí acá tu archivo 😎 en formato CSV, XLSX O JSON</h2>
		<!-- Contenedor de formulario para subir archivos -->
		<div class="form-container">
			<form action="/upload" method="POST" enctype="multipart/form-data">
				<div class="form-group">
					<!--        <label for="file-upload" class="font-weight-bold button_buscar">📍Busca tu archivo CSV:</label>
        --> <input type="file" name="file" id="file-upload" accept=".csv, .xlsx, .json" class="form-control-file" />
				</div>
				<button type="submit" class="button_slide slide_right">
					<i class="fas fa-check-circle"></i>
					Subir archivo </button>
			</form>
		</div>
	</div>
	{% endif %}



	<!-- Sección para mostrar los datos cargados -->
	{% if data %}
	<div class="data-table">
		<h2>Vista previa de los datos cargados:</h2>
		<div class="table-responsive">{{ data|safe }}</div>
		<!-- safe evita q Jinja2 escape los caracteres especiales en data-->
	</div>
	{% endif %}

	<!-- Mostrar estadisticas basicas -->
	{% if stats %}
	<div class="stats-section">
		<h2>📈 Estadísticas Básicas 📈</h2>
		<table class="table table-responsive">
			<thead>
				<tr>
					<!-- Nombres de las columnas -->
					<th>Columna</th>
					<th>Cantidad</th>
					<th>Media</th>
					<th>Desviación Estándar</th>
					<th>Valor Mínimo</th>
					<th>Valor Máximo</th>
				</tr>
			</thead>
			<tbody>
				{% for column, values in stats.items() %}
				<!--Recorro stats Columnas -->
				<tr>
					<!-- Valores de las columnas -->
					<td class="col-data">{{ column }}</td>
					<td class="col-data">{{ values.count }}</td>
					<td class="col-data">{{ values.mean }}</td>
					<td class="col-data">{{ values.std_dev }}</td>
					<td class="col-data">{{ values.min }}</td>
					<td class="col-data">{{ values.max }}</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
	{% endif %}


	<!-- Mostrar sección gráficos -->
	{% if data %}
	<h1>PASÁ TU INFORMACIÓN A GRÁFICO! </h1>
	<!-- Info de cada gráfico -->
	<h3>¿Cuál elegir?</h3>

	<div class="card-group">
		<!-- Gráfico de Dispersión -->
		<div class="card">
			<img class="card-img-top" src="../static/images/graf-disp.png" alt="Gráfico de Dispersión">
			<div class="card-body">
				<h3 class="card-title">Gráfico de Dispersión</h3>
				<p class="card-text">
					Este gráfico se utiliza para analizar la relación entre dos variables numéricas. Cada punto
					representa
					una observación específica en el conjunto de datos.
					En el eje X (horizontal), coloca la variable independiente (por ejemplo, tiempo).
					En el eje Y (vertical), coloca la variable dependiente (por ejemplo, ventas).
					Ideal para identificar patrones, tendencias o correlaciones en los datos.
				</p>
			</div>
		</div>

		<!-- Gráfico de Barras -->
		<div class="card">
			<img class="card-img-top" src="../static/images/barras-1024x768.png.webp" alt="Gráfico de Barras">
			<div class="card-body">
				<h3 class="card-title">Gráfico de Barras</h3>
				<p class="card-text">
					Este gráfico permite comparar categorías de manera visual. Las barras representan los valores de
					cada
					categoría, lo que lo hace útil para datos agrupados.
					En el eje X, coloca las categorías (por ejemplo, regiones o productos). <br>
					En el eje Y, coloca los valores numéricos (por ejemplo, ingresos o cantidades). <br>
					Útil para datos categóricos o comparaciones entre diferentes grupos.
				</p>
			</div>
		</div>

		<!-- Gráfico de Torta -->
		<div class="card">
			<img class="card-img-top" src="../static/images/pie-chart.png" alt="Gráfico de Torta">
			<div class="card-body">
				<h3 class="card-title">Gráfico de Sectores</h3>
				<p class="card-text">
					Este gráfico muestra cómo se divide un todo en partes proporcionales. Es ideal para visualizar
					porcentajes
					o distribuciones de datos en categorías. <br>
					Cada segmento representa una categoría dentro del conjunto de datos. <br>
					Asegúrate de que los valores sumen un 100% para una representación precisa. <br>
					Útil para comparar proporciones entre pocas categorías (máximo 5-6).
				</p>
			</div>
		</div>
	</div>
	<!-- Fin INFO sección gráficos -->



	<div class="container-fluid mt-4 contenedor_selecc_graf">
		<form action="/select-graph" method="POST">
			<div class="form-group">
				<label for="graph-type">📊 Seleccioná de grafico: 📊</label>
				<select name="graph_type" id="graph-type" class="form-control" required>
					<option value="scatter">Gráfico de Dispersión</option>
					<option value="bar">Gráfico de Barras</option>
					<option value="pie">Gráfico de Torta</option>
				</select>
			</div>
			<button type="submit" class="button_slide slide_right " id="outer">Siguiente</button>
		</form>
	</div>
	{% endif %}


	{% if data and graph_type %}
	<div class="container-fluid mt-4">
		<h2>📊 Configurar Gráfico 📊</h2>
		<form action="/generate-graph" method="POST">
			<input type="hidden" name="graph_type" value="{{ graph_type }}">
			<div class="form-group">
				<label for="x-column">Columna para el eje X:</label>
				<select name="x_column" id="x-column" class="form-control" required>
					{% for col in numeric_columns %}
					<option value="{{ col }}">{{ col }}</option>
					{% endfor %}
					{% for col in categorical_columns %}
					<option value="{{ col }}">{{ col }}</option>
					{% endfor %}
				</select>
			</div>

			{% if graph_type != 'pie' %}
			<div class="form-group">
				<label for="y-column">Columna para el eje Y:</label>
				<select name="y_column" id="y-column" class="form-control">
					{% for col in numeric_columns %}
					<option value="{{ col }}">{{ col }}</option>
					{% endfor %}
				</select>
			</div>
			{% endif %}
			<button type="submit" class="button_slide slide_right ">Generar Gráfico</button>
		</form>
	</div>
	{% endif %}


	<div class="graph-container mt-4">
		{% if graph_html %}
		{% if graph_type == 'scatter' %}
		<div class="graph-result scatter-graph mt-4">
			<h3>✨ Gráfico de Dispersión ✨</h3>
			<p>Explora cómo las variables seleccionadas están relacionadas. ¡Cada punto cuenta una historia!</p>
			<div class="graph-box">
				{{ graph_html|safe }}
			</div>
			<p> Relación entre <strong>{{ y_column }}</strong> y <strong>{{ x_column }}</strong>. Observa los patrones y
				tendencias.
			</p>
		</div>
		{% elif graph_type == 'bar' %}
		<div class="graph-result bar-graph mt-4">
			<h3>📊 Gráfico de Barras 📊</h3>
			<p>Compara categorías o grupos y descubre las diferencias visualmente.</p>
			<div class="graph-box">
				{{ graph_html|safe }}
			</div>
		</div>
		{% elif graph_type == 'pie' %}
		<div class="graph-result pie-graph mt-4">
			<h3>🥧 Gráfico de Torta 🥧</h3>
			<p>Mira las proporciones y distribuciones de cada categoría en un vistazo.</p>
			<div class="graph-box">
				{{ graph_html|safe }}
			</div>
			<p>Cada segmento representa la proporción de <strong>{{ y_column }}</strong>.</p>
		</div>
		{% else %}
		<p>⚠️ Tipo de gráfico no soportado..</p>
		{% endif %}
		<div class="tabla-graph">
			<!--INFOR FGRAFICOS EN TEXTO-->
			<h2>Datos del Gráfico</h2>
			<pre>{{ data_text }}</pre>
		</div>
		{% else %}
		<p>🚫 No se ha generado ningún gráfico. Sube tus datos y selecciona el tipo de gráfico.</p>
		{% endif %}
	</div>



	<!-- Footer -->
	<footer class="footer">
		<div class="container">
			<div class="row">
				<!-- Sección de texto -->
				<div class="col-md-4">
					<p class="mb-0">
						&copy; 2024 DataClarity. Todos los derechos reservados.
					</p>
				</div>
				<!-- Sección de enlaces a redes sociales -->
				<div class="col-md-4 text-md-center">
					<p>Seguinos en nuestras redes!</p>
					<a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
					<a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
					<a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
				</div>
			</div>
		</div>
	</footer>

	<!-- Bootstrap JS y dependencias de Popper -->
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
	<script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>

</html>